:root{ --bg:#ffffff; --fg:#111827; --muted:#6b7280; --chip:#e5e7eb; --chip-fg:#111827; --card:#f9fafb; --border:#e5e7eb; }
:root[data-theme="dark"]{ --bg:#0b0f19; --fg:#e5e7eb; --muted:#9ca3af; --chip:#1f2937; --chip-fg:#e5e7eb; --card:#0f1525; --border:#1f2937; }
html{ color-scheme: light dark; }
*{ box-sizing:border-box; }
body{ margin:0; background:var(--bg); color:var(--fg); font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans', sans-serif; }
.toolbar{ position:sticky; top:0; z-index:20; display:flex; align-items:center; gap:.5rem; padding:.5rem .75rem; background:var(--bg); border-bottom:1px solid var(--border); }
.toolbar .brand{ font-weight:700; }
.toolbar .spacer{ flex:1; }
.chip{ border:0; background:var(--chip); color:var(--chip-fg); padding:.45rem .75rem; border-radius:999px; cursor:pointer; }
.actions{ display:flex; gap:.35rem; }
.lang-switch{ display:flex; gap:.35rem; }
.masthead{ padding:1rem .75rem .5rem; text-align:center; }
.masthead .subtitle,.masthead .season,.masthead .byline{ color:var(--muted); margin:.15rem 0; }
.verse{ margin:0 .75rem 1rem; padding:.75rem; background:var(--card); border:1px solid var(--border); border-radius:1rem; }
.section{ padding: .5rem .75rem 1.25rem; }
.card{ background:var(--card); border:1px solid var(--border); border-radius:1rem; padding:1rem; margin:.5rem 0; }
.prose p{ margin:.75rem 0; }
.grid.two{ display:grid; grid-template-columns: 1fr; gap:.5rem; }
@media (min-width:700px){ .grid.two{ grid-template-columns: 1fr 1fr; } }
.item{ background:rgba(0,0,0,.03); padding:.6rem .7rem; border-radius:.6rem; }
.note{ color:var(--muted); font-size:.9rem; margin-top:.5rem; }
.footer{ padding:1rem .75rem; border-top:1px solid var(--border); color:var(--muted); text-align:center; }
html[dir="rtl"]{ direction: rtl; }
html[dir="rtl"] .toolbar{ flex-direction: row-reverse; }
/* ──────────────────────────────── */
/* Modal (Story Popups)             */
/* ──────────────────────────────── */
.modal[role="dialog"] {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(0,0,0,.5);
  z-index: 9999;
}

.modal[hidden] {
  display: none !important;
}

.modal .modal-body {
  max-height: 70vh;
  overflow: auto;
  background: var(--bg);
  color: var(--fg);
  padding: 1rem;
  border-radius: 1rem;
  width: min(900px, 90vw);
  box-shadow: 0 4px 24px rgba(0,0,0,0.3);
}

.modal .modal-actions {
  display: flex;
  gap: .5rem;
  justify-content: flex-end;
  margin-top: .5rem;
}

/* Kids Section */
.kids-title {
  font-size: 2.4rem;
  font-weight: 900;
  color: #f4d77d; /* gold highlight */
  text-align: center;
  margin-bottom: 1.5rem;
  text-shadow: 0 2px 6px rgba(0,0,0,0.4);
}

/* Animated Background */
.kids-bg-container {
  position: relative;
  width: 100%;
  height: 420px;
  overflow: hidden;
  border-radius: 18px;
  margin-bottom: 2rem;
}

.kids-bg-frame {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  animation: kidsFade 42s infinite;
}

.kids-bg-frame:nth-child(1)  { animation-delay: 0s; }
.kids-bg-frame:nth-child(2)  { animation-delay: 3s; }
.kids-bg-frame:nth-child(3)  { animation-delay: 6s; }
.kids-bg-frame:nth-child(4)  { animation-delay: 9s; }
.kids-bg-frame:nth-child(5)  { animation-delay: 12s; }
.kids-bg-frame:nth-child(6)  { animation-delay: 15s; }
.kids-bg-frame:nth-child(7)  { animation-delay: 18s; }
.kids-bg-frame:nth-child(8)  { animation-delay: 21s; }
.kids-bg-frame:nth-child(9)  { animation-delay: 24s; }
.kids-bg-frame:nth-child(10) { animation-delay: 27s; }
.kids-bg-frame:nth-child(11) { animation-delay: 30s; }
.kids-bg-frame:nth-child(12) { animation-delay: 33s; }
.kids-bg-frame:nth-child(13) { animation-delay: 36s; }

@keyframes kidsFade {
  0%   { opacity: 0; }
  10%  { opacity: 1; }
  25%  { opacity: 1; }
  35%  { opacity: 0; }
  100% { opacity: 0; }
}

/* Story cards on Kids page */
.kids-story {
  background: rgba(255,255,255,0.92);
  backdrop-filter: blur(8px);
  padding: 1.5rem;
  border-radius: 16px;
  margin-top: 1.5rem;
}
